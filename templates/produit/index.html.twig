{% extends 'base.html.twig' %}

{% block titre %}Produits ‚Äî Logix G-Stock{% endblock %}

{% block contenu %}
<h1 class="mb-4">üì¶ Liste des produits</h1>

<table class="table table-hover table-bordered align-middle">
  <thead class="table-dark">
    <tr>
      <th>ID</th>
      <th>Nom</th>
      <th>Description</th>
      <th>Prix</th>
      <th>Stock</th>
      <th>R√©f√©rence</th>
      <th>Cr√©√© le</th>
      <th>Modifi√© le</th>
      <th>TVA</th>
      <th>Stock min</th>
      <th>√âtat</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
  {% for produit in produits %}
    <tr>
      <td>{{ produit.id }}</td>
      <td>{{ produit.nom }}</td>
      <td>{{ produit.description }}</td>
      <td>{{ produit.prixUnitaire|number_format(2, ',', ' ') }} ‚Ç¨</td>
      <td>{{ produit.quantiteStock }}</td>
      <td>{{ produit.reference }}</td>
      <td>{{ produit.dateCreation ? produit.dateCreation|date('d/m/Y H:i') : '' }}</td>
      <td>{{ produit.dateModification ? produit.dateModification|date('d/m/Y H:i') : '' }}</td>
      <td>{{ produit.tva }} %</td>
      <td>{{ produit.stockMin }}</td>
      <td>
        {% if produit.etatStock == 'rupture' %}
          <span class="badge bg-danger">‚ùå Rupture</span>
        {% elseif produit.etatStock == 'sous_seuil' %}
          <span class="badge bg-warning text-dark">‚ö†Ô∏è Sous Seuil</span>
        {% else %}
          <span class="badge bg-success">‚úÖ OK</span>
        {% endif %}
      </td>
      <td>
        <a class="btn btn-sm btn-outline-primary" href="{{ path('app_produit_show', {'id': produit.id}) }}">Afficher</a>
        <a class="btn btn-sm btn-outline-warning" href="{{ path('app_produit_edit', {'id': produit.id}) }}">Modifier</a>
      </td>
    </tr>
  {% else %}
    <tr>
      <td colspan="12" class="text-center">‚ö†Ô∏è Aucun produit trouv√©</td>
    </tr>
  {% endfor %}
  </tbody>
</table>

<a class="btn btn-success" href="{{ path('app_produit_new') }}">‚ûï Ajouter un produit</a>
{% endblock %}
